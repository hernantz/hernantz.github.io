<!DOCTYPE html>
<html lang="en">
<head>
  <title>Endpoints matter | README.txt</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="/theme/css/pygments-default.css" type="text/css" />
  <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
  <link rel="stylesheet" href="/theme/css/dark/main.css" media="(prefers-color-scheme: dark)" type="text/css" />
  <link rel="stylesheet" href="/theme/css/dark/pygments-base16-applepips-dark.css" media="(prefers-color-scheme: dark)" type="text/css" />
  <link rel="stylesheet" media="(max-width: 750px)" href="/theme/css/mobile.css" type="text/css" />
  <link href="/images/favicon.ico" rel="icon" type="image/x-icon" />
  <link href="/rss.xml" type="application/atom+xml" rel="alternate" title="README.txt RSS Feed" />
  <meta name="description" content="Entities can be identified by IDs, but also paths.">
  <meta name="keywords" content="database, rest, api">
  <meta name="author" content="hernantz">
</head>

<body>
  <aside class="sidebar">
    <a href="/"><img src="/images/avatar.png" height="75" width="75" /></a>

      <nav>
        <ul>
            <li><a href="http://twitter.com/hernantz">twitter</i></a></li>
            <li><a href="http://github.com/hernantz">github</i></a></li>
            <li><a href="http://last.fm/user/hernantz">last.fm</i></a></li>
            <li><a href="https://www.rottentomatoes.com/profiles/0xRTmJSAmiZmFvrupQTAqh4oFeeCXofkmSzWhGxhyyCk4iwZcPrFjxh44CKdu1RhwYcRPCvvCJpfkOuNQFNBH14ij0HL0tz6idMSAdtoaCg8">tomatoes</i></a></li>
            <li><a href="/talks.html">talks</a></li>
            <li><a href="/whoami.html">whoami</a></li>
            <li><a href="/">blog</a></li>
        </ul>
      </nav>

  </aside>
  <main>
<article class="column-right">
  <h1 class="main-title">Endpoints matter</h1>
  <section>
    <p class="light">
      Published
on <time datetime="2021-09-18T00:00:00-03:00">2021-09-18</time>,       under <a href="http://hernantz.github.io/category/programming.html">Programming</a>,
      tagged with <a href="http://hernantz.github.io/tag/database.html">database</a>, <a href="http://hernantz.github.io/tag/rest.html">rest</a> and <a href="http://hernantz.github.io/tag/api.html">api</a>.
    </p>
  </section>
  <p>In most applications, system entities do not exist isolated from each other,
but connected in one to one, many to many or one to may type of relations.</p>
<p>This means that there is more than one way to reach to a specific entity.</p>
<p>Although all entities should have a unique id, the <em>path</em> to that entity is also
important when designing REST APIs.</p>
<p>For example, in an blog website, we have <code>Posts</code> and <code>Comment</code> entities. We
could imagine a posts endpoint in the form: <code>/posts/{postId}</code>, but what about
comments?</p>
<p>Comments only make sense in the context of a post, it would be awkward to
reference a comment by <code>/comments/{commentId}</code> endpoint, or get all comments
from a post through a <code>/comments/?postId={postId}</code> filter or comments by their
author: <code>/user/{userId}/comments/{commentId}</code>.</p>
<p>A more semantic path to a comment would be
<code>/posts/{postId}/comments/</code> and a specific comment by
<code>/posts/{postId}/comments/{commentId}</code>.</p>
<p>One could argue that this pattern can also apply for comment replies in the
form: <code>/posts/{postId}/comments/{commentId}/replies/{replyId}</code> but it is
probably abusing the pattern and the path to an entity is no longer clear.
Although replies only make sense in the context of a comment they reply to.</p>
<p>Path design to reach connected entities will really depend what are the most
common access patterns to those entities. There are always hierarchies
in the structure of any database after all.</p>
</article>

      <footer class="column-right light">
        <nav><a href="/">Home</a> - <a href="/archives.html">Archives</a> - <a href="/categories.html">Categories</a> - <a href="/tags.html">Tags</a> - <a href="/rss.xml">RSS</a> - <a href="https://creativecommons.org/licenses/by/4.0/">License</a> | README.txt</nav>
      </footer>
  </main>
</body>
</html>